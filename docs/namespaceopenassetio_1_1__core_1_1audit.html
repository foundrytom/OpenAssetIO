<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenAssetIO [beta]: openassetio._core.audit Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="all-content">
<div id="body-content">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenAssetIO [beta]
   </div>
   <div id="projectbrief">An abstract API for generalising interactions between a host application and an asset management system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespaceopenassetio_1_1__core_1_1audit.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">openassetio._core.audit Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module provides utility code that allows method and object usage to be audited.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenassetio_1_1__core_1_1audit_1_1_auditor.html">Auditor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class provides a quick-and-dirty accounting mechanism for Class, method and object usage.  <a href="classopenassetio_1_1__core_1_1audit_1_1_auditor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aee59d3992d0ad53ce790ad31e30db919"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenassetio_1_1__core_1_1audit.html#aee59d3992d0ad53ce790ad31e30db919">auditor</a> ()</td></tr>
<tr class="memdesc:aee59d3992d0ad53ce790ad31e30db919"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a singleton <a class="el" href="classopenassetio_1_1__core_1_1audit_1_1_auditor.html" title="This class provides a quick-and-dirty accounting mechanism for Class, method and object usage...">Auditor</a>, created on demand.  <a href="#aee59d3992d0ad53ce790ad31e30db919">More...</a><br /></td></tr>
<tr class="separator:aee59d3992d0ad53ce790ad31e30db919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Decorators</div></td></tr>
<tr class="memitem:a2d987a0d26439451e9e68aa5e12a2c51"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenassetio_1_1__core_1_1audit.html#a2d987a0d26439451e9e68aa5e12a2c51">auditCall</a> (function)</td></tr>
<tr class="memdesc:a2d987a0d26439451e9e68aa5e12a2c51"><td class="mdescLeft">&#160;</td><td class="mdescRight">A decorator to log a method, as long as auditCalls is True, with no other special logic.  <a href="#a2d987a0d26439451e9e68aa5e12a2c51">More...</a><br /></td></tr>
<tr class="separator:a2d987a0d26439451e9e68aa5e12a2c51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a648e4fb72c4ab553bc260e7445d33d8c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenassetio_1_1__core_1_1audit.html#a648e4fb72c4ab553bc260e7445d33d8c">auditApiCall</a> (group=None, static=False)</td></tr>
<tr class="memdesc:a648e4fb72c4ab553bc260e7445d33d8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A decorator to log a method as long as auditCalls is True, parsing the methods args and kwargs with an understanding of the various objects used in the openassetio.  <a href="#a648e4fb72c4ab553bc260e7445d33d8c">More...</a><br /></td></tr>
<tr class="separator:a648e4fb72c4ab553bc260e7445d33d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab424af143cb41609d3dc55e283372b39"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenassetio_1_1__core_1_1audit.html#ab424af143cb41609d3dc55e283372b39">auditCalls</a> = &quot;0&quot;</td></tr>
<tr class="memdesc:ab424af143cb41609d3dc55e283372b39"><td class="mdescLeft">&#160;</td><td class="mdescRight">When set to True, decorated calls will be audited.  <a href="#ab424af143cb41609d3dc55e283372b39">More...</a><br /></td></tr>
<tr class="separator:ab424af143cb41609d3dc55e283372b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade88f01e5e56c7bd9f282c8cd83277ff"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenassetio_1_1__core_1_1audit.html#ade88f01e5e56c7bd9f282c8cd83277ff">captureArgs</a> = &quot;0&quot;</td></tr>
<tr class="memdesc:ade88f01e5e56c7bd9f282c8cd83277ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">If True, the args for each invocation of a function will be recorded, to aide debugging.  <a href="#ade88f01e5e56c7bd9f282c8cd83277ff">More...</a><br /></td></tr>
<tr class="separator:ade88f01e5e56c7bd9f282c8cd83277ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb1954ccc782d423973d59123b58f261"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenassetio_1_1__core_1_1audit.html#afb1954ccc782d423973d59123b58f261">reprArgs</a> = False</td></tr>
<tr class="memdesc:afb1954ccc782d423973d59123b58f261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some hosts have issues with us holding onto objects.  <a href="#afb1954ccc782d423973d59123b58f261">More...</a><br /></td></tr>
<tr class="separator:afb1954ccc782d423973d59123b58f261"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module provides utility code that allows method and object usage to be audited. </p>
<p>This module permits auditing of the use of the various API calls during a series of operations.</p>
<dl class="envvar"><dt><b><a class="el" href="envvar.html#_envvar000001">Environment Variables:</a></b></dt><dd><p class="startdd"><b>OPENASSETIO_AUDIT</b> <em>int</em> [0] If non-zero API calls will be audited by default </p>
<p class="enddd"><b>OPENASSETIO_AUDIT_ARGS</b> <em>int</em> [0] If non-zero args will be captured during audit, if auditing is disabled, this has no effect. </p>
</dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a648e4fb72c4ab553bc260e7445d33d8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def openassetio._core.audit.auditApiCall </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>group</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>static</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A decorator to log a method as long as auditCalls is True, parsing the methods args and kwargs with an understanding of the various objects used in the openassetio. </p>
<p>This of this as being analogous to 'stateful packet inspection'.</p>
<p>If auditCalls is False, functions will not be wrapped so docstrings are not obfuscated and the call stack isn't bloated. Because wrapping happens when the Class is parsed, for auditing to ever be enabled, it has to be set by the environment variable so that it's true before other classes are loaded from their modules. Otherwise, its too late to turn it on once the import has completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>str, an optional group name to log the call under <a class="el" href="classopenassetio_1_1__core_1_1audit_1_1_auditor.html#ac5aa86eff765712798b1aa1006e919a8">Auditor.addMethod</a></td></tr>
    <tr><td class="paramname">static</td><td>bool, set to True if the decorated function is a static method. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2d987a0d26439451e9e68aa5e12a2c51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def openassetio._core.audit.auditCall </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A decorator to log a method, as long as auditCalls is True, with no other special logic. </p>

</div>
</div>
<a class="anchor" id="aee59d3992d0ad53ce790ad31e30db919"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def openassetio._core.audit.auditor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a singleton <a class="el" href="classopenassetio_1_1__core_1_1audit_1_1_auditor.html" title="This class provides a quick-and-dirty accounting mechanism for Class, method and object usage...">Auditor</a>, created on demand. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ab424af143cb41609d3dc55e283372b39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string auditCalls = &quot;0&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When set to True, decorated calls will be audited. </p>
<p>When False, minimal additional code is run, to minimize performance impact. This should always be False by default. </p>

</div>
</div>
<a class="anchor" id="ade88f01e5e56c7bd9f282c8cd83277ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string captureArgs = &quot;0&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If True, the args for each invocation of a function will be recorded, to aide debugging. </p>

</div>
</div>
<a class="anchor" id="afb1954ccc782d423973d59123b58f261"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool reprArgs = False</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Some hosts have issues with us holding onto objects. </p>
<p>Setting this to True will ensure that we repr the objects whilst they are still alive. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceopenassetio.html">openassetio</a></li><li class="navelem"><a class="el" href="namespaceopenassetio_1_1__core.html">_core</a></li><li class="navelem"><a class="el" href="namespaceopenassetio_1_1__core_1_1audit.html">audit</a></li>
  </ul>
</div>
<hr class="footer"/>
<p id="copyright"><small>Copyright 2013-2021 The Foundry Visionmongers Ltd. OpenAssetIO is released under the <a href="https://www.apache.org/licenses/LICENSE-2.0.txt" target="_blank">Apache 2.0 License</a></small></p>
</div>
</body>
</html>
