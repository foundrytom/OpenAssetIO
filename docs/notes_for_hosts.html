<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenAssetIO [beta]: Notes for API Host Developers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="all-content">
<div id="body-content">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenAssetIO [beta]
   </div>
   <div id="projectbrief">An abstract API for generalising interactions between a host application and an asset management system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('notes_for_hosts.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Notes for API Host Developers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="host_architecture"></a>
Architecture Summary</h1>
<ul>
<li>In OpenAssetIO, a '<a class="el" href="glossary.html#host">host</a>' is an application, tool or script that makes use of the API to interact with an <a class="el" href="glossary.html#asset_management_system">Asset Management System</a>. This could be a anything from a simple pipeline script to a full-blown Digital Content Creation application. We use this term as the host is the thing responsible for 'hosting' the API, and instantiating one or more instances of the API classes that represent an asset management system.</li>
<li>Hosts interact with an <a class="el" href="glossary.html#asset_management_system">Asset Management System</a> through an instance of the <a class="el" href="namespaceopenassetio_1_1host_a_p_i_1_1_manager.html">Manager</a> class. The <a class="el" href="namespaceopenassetio_1_1host_a_p_i_1_1_session.html">Session</a> class is used to instantiate and access this instance for any given manager. The Manager class wraps the implementation of the API by a specific asset manager to help with state management.</li>
<li>In order to use the API, every host must provide an implementation of the <a class="el" href="glossary.html#HostInterface">HostInterface</a> class. This represents the application or tool in a generic fashion <em>to</em> the asset management system. This allows the manager to adapt its behavior if necessary.</li>
<li>The specific implementation of the <a class="el" href="glossary.html#HostInterface">HostInterface</a> class provided by a host when starting a <a class="el" href="glossary.html#session">session</a> is wrapped in the <a class="el" href="classopenassetio_1_1v1_1_1manager_a_p_i_1_1_host.html">Host</a> class before being exposed to the manager. This is to allow for assorted middleware auditing/logging functionality, and provide a degree of isolation against future API changes.</li>
<li>The main currency in the interactions with a <a class="el" href="glossary.html#manager">manager</a> is the <a class="el" href="glossary.html#entity_reference">Entity Reference</a>. These are URIs that uniquely identify an <a class="el" href="glossary.html#entity">entity</a> within the management system. The form of an entity reference is entirely determined by the manager. They must be considered to be opaque handles by the host, even if they look like well-formed strings.</li>
<li>Nearly all interactions with a <a class="el" href="namespaceopenassetio_1_1host_a_p_i_1_1_manager.html">Manager</a> require an appropriately configured <a class="el" href="glossary.html#Context">Context</a>. This tells the <a class="el" href="glossary.html#asset_management_system">Asset Management System</a> about the intended actions of the host. For example, whether an <a class="el" href="glossary.html#entity_reference">Entity Reference</a> is being <a class="el" href="glossary.html#resolve">resolved</a> for read or for write.</li>
<li>The lifetime of the Context can be carefully managed by the host to allow the manager to correlate and time-lock disparate API calls.</li>
<li>It's in the host's interest to provide as much information in the <a class="el" href="glossary.html#Context">Context</a> and any <a class="el" href="glossary.html#entity">entity</a> or <a class="el" href="glossary.html#locale">locale</a> <a class="el" href="glossary.html#Specification">Specifications</a> supplied to API calls as possible. For example, it is strongly advised to use or extend standard <a class="el" href="glossary.html#locale">locales</a> depending on which part of a host is making API calls. This allows the manager to correctly filter assets or adapt its behavior as required.</li>
<li>You should resolve an entity reference with the minimal set of <a class="el" href="glossary.html#trait">traits</a> required, and use resulting data as the authoritative source of information about an asset. For example, to determine the final colorspace of an image.</li>
</ul>
<h1><a class="anchor" id="host_reading"></a>
Recommended Reading</h1>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="entities_traits_and_specifications.html">Entities, Traits and Specifications</a> </dd>
<dd>
<a class="el" href="classopenassetio_1_1host_a_p_i_1_1_session_1_1_session.html">Session</a> </dd>
<dd>
<a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html">Manager</a> </dd>
<dd>
<a class="el" href="structopenassetio_1_1v1_1_1_context.html">Context</a></dd></dl>
<h1><a class="anchor" id="host_todo"></a>
Implementation Check List</h1>
<h2><a class="anchor" id="host_todo_required_resolution"></a>
Required for Simple Resolution</h2>
<ul>
<li>Implement the <a class="el" href="classopenassetio_1_1v1_1_1host_a_p_i_1_1_host_interface.html">HostInterface</a> class methods: <a class="el" href="classopenassetio_1_1v1_1_1host_a_p_i_1_1_host_interface.html#ab5a202c5ef8254b8e84ee9208ca426a1">identifier</a> and <a class="el" href="classopenassetio_1_1v1_1_1host_a_p_i_1_1_host_interface.html#afe51f23c7b60c6f5ba182c57bbeeda92">displayName</a>.</li>
<li>Create a <a class="el" href="namespaceopenassetio_1_1host_a_p_i_1_1_session.html">openassetio.hostAPI.Session</a> to bootstrap the API, provide the following objects:<ul>
<li>An instance of the custom class derived from <a class="el" href="classopenassetio_1_1v1_1_1host_a_p_i_1_1_host_interface.html">HostInterface</a>.</li>
<li>A <code>logger</code> (derived from <a class="el" href="classopenassetio_1_1log_1_1_logger_interface.html">LoggerInterface</a>), for simple console logging you can use a <a class="el" href="classopenassetio_1_1log_1_1_console_logger.html">ConsoleLogger</a> wrapped in a <a class="el" href="classopenassetio_1_1log_1_1_severity_filter.html">SeverityFilter</a>.</li>
<li>A <code>managerFactory</code> capable of instantiating managers, in the majority of cases a default-configured <a class="el" href="namespaceopenassetio_1_1plugin_system_1_1_plugin_system_manager_factory.html">PluginSystemManagerFactory</a> will be sufficient.</li>
</ul>
</li>
<li>Create, persist and configure a <a class="el" href="glossary.html#Context">Context</a> as appropriate for all calls to the API.</li>
<li>Ask the <a class="el" href="glossary.html#manager">manager</a> if they support resolve for the relevant data by supplying its <a class="el" href="glossary.html#trait_set">Trait Set</a> to <a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html#ac5587cc282127b7e48e73b6840f04b24">Manager.managementPolicy</a> with a <a class="el" href="glossary.html#Context">Context</a> with <code>kRead</code> access, respecting the returned flags.</li>
<li>Always check any suspected entity references with <a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html#ab4346bb060396f0285495d46eb3aec5e">Manager.isEntityReference</a> before passing to any other API calls.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="examples.html#examples_api_initialization">Initializing the API in a Host</a> </dd>
<dd>
<a class="el" href="examples.html#examples_picking_a_manager">Setting up a Manager</a> </dd>
<dd>
<a class="el" href="examples.html#examples_resolving_a_reference">Resolving a Reference</a></dd></dl>
<h2><a class="anchor" id="host_todo_required_publishing"></a>
Required for Publishing</h2>
<ul>
<li>Ask the <a class="el" href="glossary.html#manager">manager</a> if they support publishing for the relevant data by supplying its <a class="el" href="glossary.html#trait_set">Trait Set</a> to <a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html#ac5587cc282127b7e48e73b6840f04b24">Manager.managementPolicy</a> with a <a class="el" href="glossary.html#Context">Context</a> with <code>kWrite</code> access, respecting the returned flags.</li>
<li>Follow the <a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html#ac5587cc282127b7e48e73b6840f04b24">policy</a>, <a class="el" href="glossary.html#preflight">preflight</a>, resolve, write, <a class="el" href="glossary.html#register">register</a> process illustrated <a class="el" href="examples.html#example_publishing_a_file">here</a> whenever generating new data.</li>
<li>Include in your documentation, any scenarios in which entities are registered to references known to be of a different <a class="el" href="glossary.html#trait_set">Trait Set</a>. For example, an editorial application registering the traits of an ImageSpecification to a reference with the traits of a ShotSpecification indicates that the images should be published "under" that shot.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="examples.html#example_publishing_a_file">Publishing a File</a></dd></dl>
<h2><a class="anchor" id="host_todo_recommended"></a>
Recommended</h2>
<ul>
<li>Present users with the ability to enable and select a <a class="el" href="glossary.html#manager">manager</a> to use to interact with an <a class="el" href="glossary.html#asset_management_system">Asset Management System</a>, storing applicable options, etc...</li>
<li><a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html#ab4346bb060396f0285495d46eb3aec5e">Test</a> and resolve any strings that may represent file system locations (<a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html#a815e3f348d3f24396e7cc74357f8568b">Manager.resolve</a>)</li>
<li>Ensure the use of a correctly configured <a class="el" href="glossary.html#Context">Context</a> for all calls to the API.</li>
<li>If a manager's <a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html#ac5587cc282127b7e48e73b6840f04b24">managementPolicy</a> sets <a class="el" href="namespaceopenassetio_1_1constants.html#aa58867bc9f0e28ae40ae99d5a1c7906a">kWantsThumbnail</a>, where possible, generate thumbnails as requested during publishing.</li>
<li>Allow the ManagerUIDelegate to participate in browsing/etc... for any data types they have expressed an interest in managing via <a class="el" href="classopenassetio_1_1host_a_p_i_1_1_manager_1_1_manager.html#ac5587cc282127b7e48e73b6840f04b24">Manager.managementPolicy</a>.</li>
<li>Make the drawing of any parameters that may hold an <a class="el" href="glossary.html#entity_reference">Entity Reference</a> delegatable to the ManagerUIDeleagate.</li>
<li>Create <a class="el" href="glossary.html#Specification">specifications</a> for any custom 'asset types' you may deal with.</li>
<li>You should map any widgets returned by ManagerUIDelegate.widgets with the ui.widgets.attributes.kCreateApplicationPanel flag set to some native panel type, if you have one.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="examples.html#example_generating_a_thumbnail">Generating a Thumbnail During Publish</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The UI classes have not yet been migrated from the <code>FnAssetAPI</code> code base. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
<hr class="footer"/>
<p id="copyright"><small>Copyright 2013-2021 The Foundry Visionmongers Ltd. OpenAssetIO is released under the <a href="https://www.apache.org/licenses/LICENSE-2.0.txt" target="_blank">Apache 2.0 License</a></small></p>
</div>
</body>
</html>
